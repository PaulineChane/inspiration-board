(this["webpackJsonpinspiration-board"]=this["webpackJsonpinspiration-board"]||[]).push([[0],{29:function(e,a,t){},30:function(e,a,t){},49:function(e,a,t){},56:function(e,a,t){},57:function(e,a,t){},58:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t(2),c=t(21),r=t.n(c),i=(t(29),t(30),t(3)),s=t(22),d=t(6),l=t(8),u=t.n(l),b=(t(49),t(5)),m=t.n(b),j=(t(56),function(e){return Object(n.jsxs)("div",{className:"card",children:[Object(n.jsx)("button",{className:"card__delete",onClick:function(){e.deleteCard(e.id)},children:" delete"}),Object(n.jsxs)("section",{className:"card__content",children:[Object(n.jsx)("h2",{className:"card__content-text",children:e.text}),Object(n.jsx)("p",{className:"card__content-emoji",children:e.emojiText?m.a.getUnicode(e.emojiText):""})]})]})}),f=t(23),h=(t(57),m.a.names),v=function(e){var a=Object(o.useState)({text:"",emoji:"",boardName:e.boardName}),t=Object(d.a)(a,2),c=t[0],r=t[1],s=function(e){var a=Object(f.a)({},c);a[e.target.name]=e.target.value,r(a)};return Object(n.jsxs)("section",{className:"new-card-form",onSubmit:function(a){a.preventDefault(),e.addCard(c),r({text:"",emoji:"",boardName:e.boardName})},children:[Object(n.jsx)("h2",{className:"new-card-form__header",children:"add a card"}),Object(n.jsxs)("form",{className:"new-card-form__form",children:[Object(n.jsx)("label",{className:"new-card-form__form-label",children:"text"}),Object(n.jsx)("textarea",{id:"text",name:"text",value:c.text,placeholder:"inspire your board or someone else's!",className:"new-card-form__form-textarea",onChange:s}),Object(n.jsxs)("label",{className:"new-card-form__form-label",children:[m.a?m.a.getUnicode(c.emoji):""," emoji"]}),function(e){var a,t=[],o=Object(i.a)(e);try{for(o.s();!(a=o.n()).done;){var r=a.value;t.push(Object(n.jsxs)("option",{value:r,children:[" ",r]}))}}catch(d){o.e(d)}finally{o.f()}return Object(n.jsxs)("select",{id:"emoji",name:"emoji",value:c.emoji,className:"new-card-form__form-select",onChange:s,children:[" ",t," "]})}(h),Object(n.jsx)("label",{className:"new-card-form__form-label",children:"board"}),function(a){var t,o=[],r=Object(i.a)(a);try{for(r.s();!(t=r.n()).done;){var d=t.value;d.board.name!==e.boardName&&o.push(Object(n.jsxs)("option",{value:d.board.name,children:[d.board.name," ",d.board.name===c.boardName?"(selected board)":""]}))}}catch(l){r.e(l)}finally{r.f()}return o.unshift(Object(n.jsxs)("option",{value:e.boardName,children:[" ",e.boardName," (current board)"]})),Object(n.jsxs)("select",{id:"boardName",name:"boardName",value:c.boardName,className:"new-card-form__form-select",onChange:s,children:[" ",o," "]})}(e.boards),Object(n.jsx)("input",{type:"submit",value:"submit card",className:"new-card-form__form-button"})]})]})},x=function(e){var a=Object(o.useState)([]),t=Object(d.a)(a,2),c=t[0],r=t[1],l=Object(o.useState)(null),b=Object(d.a)(l,2),m=b[0],f=b[1],h=Object(o.useState)([]),x=Object(d.a)(h,2),O=x[0],p=x[1],N=e.url,g=e.url.replace("boards","cards");Object(o.useEffect)((function(){u.a.get("".concat(N).concat(e.boardName,"/cards")).then((function(e){var a=e.data;r(a)})).catch((function(e){f(["Failed to retrieve cards."]),console.log(e.message)})),u.a.get(N).then((function(e){var a=e.data;p(a)})).catch((function(e){f(["Failed to retrieve boards."]),console.log(e.message)}))}),[]);return Object(n.jsxs)("div",{children:[Object(n.jsx)("article",{className:"validation-errors-display",children:Object(n.jsx)("ul",{className:"validation-errors-display__list",children:m?function(e){var a,t=[],o=Object(i.a)(e);try{for(o.s();!(a=o.n()).done;){var c=a.value;t.push(Object(n.jsx)("li",{children:c}))}}catch(r){o.e(r)}finally{o.f()}return t}(m):""})}),Object(n.jsx)(v,{url:g,boardName:e.boardName,addCard:function(a){var t=Object(s.a)(c),n={text:a.text,emoji:a.emoji};u.a.post("".concat(N).concat(a.boardName,"/cards"),n).then((function(n){if(a.boardName===e.boardName){var o=n.data.card.id;t.push({card:{id:o,text:a.text,emoji:a.emoji}})}r(t)})).catch((function(e){f(["Failed to add card."]),console.log(e.message)}))},boards:O}),Object(n.jsx)("section",{className:"board",children:function(e,a){var t,o=[],c=Object(i.a)(e);try{for(c.s();!(t=c.n()).done;){var r=t.value;o.push(Object(n.jsx)(j,{id:r.card.id,text:r.card.text,emojiText:r.card.emoji,deleteCard:a}))}}catch(s){c.e(s)}finally{c.f()}return o}(c,(function(e){var a,t=[],n=Object(i.a)(c);try{for(n.s();!(a=n.n()).done;){var o=a.value;e===o.card.id?u.a.delete("".concat(g,"/").concat(e)).then((function(a){console.log("Card ".concat(e," successfully deleted"))})).catch((function(a){f(["Could not delete card ".concat(e,".")])})):t.push(o)}}catch(s){n.e(s)}finally{n.f()}r(t)}))})]})},O=function(){return Object(n.jsxs)("section",{children:[Object(n.jsx)("header",{className:"header",children:Object(n.jsx)("h1",{className:"header__h1",children:Object(n.jsx)("span",{className:"header__text",children:"Inspiration Board"})})}),Object(n.jsx)(x,{url:"https://inspiration-board.herokuapp.com/boards/",boardName:"pchane-reaction"})]})},p=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function N(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}r.a.render(Object(n.jsx)(O,{}),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/inspiration-board",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("/inspiration-board","/service-worker.js");p?(!function(e){fetch(e).then((function(a){404===a.status||-1===a.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):N(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):N(e)}))}}()}},[[58,1,2]]]);
//# sourceMappingURL=main.9c597077.chunk.js.map